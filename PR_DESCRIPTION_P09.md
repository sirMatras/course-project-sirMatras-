## P09 — SBOM, SCA и артефакты

Этот PR добавляет поддержку практики **P09**: генерация SBOM, SCA‑отчётов и хранение артефактов.

### C1. SBOM — покрытие и автоматизация (★★2)

- Добавлен отдельный workflow `.github/workflows/sbom-sca.yml`.
- При каждом `push`/`pull_request` по релевантным путям и при `workflow_dispatch`:
  - генерируется **SBOM** с помощью Syft (`anchore/syft:v1.0.0`) из содержимого репозитория;
  - результат сохраняется в `EVIDENCE/P09/sbom.json`.
- Используется актуальная фиксированная версия образа Syft (v1.0.0) для воспроизводимости и лучшего покрытия зависимостей.
- SBOM включает все зависимости проекта (Python packages из requirements.txt, transitive dependencies).

### C2. SCA — отчёт и сводка по уязвимостям (★★2)

- По сгенерированному SBOM запускается **SCA** с помощью Grype (`anchore/grype:v0.85.0`).
- Используется актуальная версия Grype (v0.85.0) для более полного обнаружения уязвимостей.
- Полный отчёт сохраняется в `EVIDENCE/P09/sca_report.json`.
- На основе `sca_report.json` формируется `EVIDENCE/P09/sca_summary.md`:
  - агрегированные счётчики уязвимостей по severity (CRITICAL/HIGH/MEDIUM/LOW/NEGLIGIBLE/UNKNOWN),
  - детальное описание каждой найденной уязвимости с рекомендациями,
  - ссылка на конкретный workflow run и commit,
  - план действий по устранению уязвимостей.
- При повторном прогоне на том же коммите отчёты воспроизводимы (фиксированные версии Syft/Grype).

### C3. Артефакты и трассировка (Evidence & DS1) (★★2)

- Все ключевые артефакты складываются в `EVIDENCE/P09/`:
  - `sbom.json` — полный SBOM проекта в формате JSON,
  - `sca_report.json` — детальный отчёт SCA с найденными уязвимостями,
  - `sca_summary.md` — человекочитаемая сводка с агрегацией и рекомендациями.
- Workflow публикует их как артефакт GitHub Actions `sbom-sca-artifacts` (retention: 30 дней).
- В `EVIDENCE/P09/README.md` описана структура каталога и как использовать эти файлы
  для **DS‑раздела** итогового отчёта (трассировка от commit/job к анализу уязвимостей).
- Все артефакты привязаны к конкретному коммиту и workflow run для полной трассируемости.

### C4. Политика и waivers (★★2)

- Добавлен файл политики `policy/waivers.yml` с комплексной структурой:
  - **Детальная политика по severity**: CRITICAL/HIGH/MEDIUM/LOW с конкретными требованиями к waiver для каждого уровня,
  - **Полная структура waiver**: обязательные поля (id, package, severity, reason, owner, issue, review_until) и опциональные (fixed_in_version, mitigation, affected_components, notes, approved_by, created_at),
  - **Процесс работы с waivers**: пошаговое описание от обнаружения до пересмотра,
  - **Примеры waivers**: 4 реальных примера для разных уровней severity (HIGH, MEDIUM, LOW) с обоснованием, компенсирующими мерами и планами действий,
  - **Валидация**: описание требований к валидации структуры и содержимого waivers.
- Примеры waivers основаны на реальных уязвимостях, найденных в зависимостях проекта.
- Каждый waiver включает:
  - Обоснование принятия риска,
  - Компенсирующие меры (mitigation),
  - Список затронутых компонентов,
  - План действий и срок пересмотра.

### C5. Интеграция в CI и гигиена

- Workflow `SBOM & SCA`:
  - триггерится на `push`/`pull_request` по релевантным путям (`src/**`, `requirements*.txt`, `Dockerfile`, `policy/waivers.yml`),
  - имеет `workflow_dispatch` для ручного запуска,
  - использует разумный `timeout-minutes` и **не трогает секреты** (только публичные образы Syft/Grype),
  - загружает артефакты с помощью `actions/upload-artifact@v4`.
- Задан `concurrency` для группы `sbom-sca-${{ github.ref }}`, чтобы старые запуски не зависали.
- Workflow логически дополняет существующий `ci.yml` из P08 и не конфликтует с ним.


